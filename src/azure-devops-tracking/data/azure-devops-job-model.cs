////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
//
// Module: azure-devops-job-model
//
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

using System;
using System.Collections.Generic;

using DevOps.Util;

using Newtonsoft.Json;

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

namespace models {

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

public class AzureDevOpsJobModel
{
    [JsonProperty(PropertyName = "id")]
    public string Id { get; set; }

    public DateTime DateStart { get; set; }

    public DateTime DateEnd { get; set; }

    public double ElapsedTime { get; set; }

    public TaskResult Result { get; set; }

    public List<AzureDevOpsStepModel> Steps { get; set; }

    [JsonProperty(PropertyName = "Name")]
    public string Name { get; set; }

    public string JobGuid { get; set; }

    public string PipelineId { get; set; }

    public override string ToString() => Name + $" ({ElapsedTime:0.##}) -> {Result}";
}

class JobComparer : IComparer<AzureDevOpsJobModel>
{
    public int Compare(AzureDevOpsJobModel lhs, AzureDevOpsJobModel rhs)
    {
        if (lhs.DateStart < rhs.DateStart) return -1;
        else if (lhs.DateStart == rhs.DateStart) return 0;
        else return 1;
    }
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

} // end of namespace azure-devops-tracking.models

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
